# This config file sets up the AFU Descriptor at the start of the afu program
# Use the following format to corretly set up the descriptor
# field_name : value
# field_name must follow CAPI User's Manual convention
# make sure to have space(s) before AND after the colon
# values can be decimal or hex (hex must start with 0x)

# Single process AFU
# Dedicated mode uses 0x01, directed uses 0x04
num_of_processes : 4
#num_of_processes : 1
# Dedicated mode uses 0x8010, directed uses 0x8004
reg_prog_model : 0x8004
#reg_prog_model : 0x8010
# PSA space required
# Dedicated mode uses 0x01, directed uses 0x03
PerProcessPSA_control : 0x03
#PerProcessPSA_control : 0x01
PerProcessPSA_length : 0x1
#PerProcessPSA_offset : 0x1
PerProcessPSA_offset : 0x1000

# Define 1 configuration record of 256 bytes at 0x100
num_of_afu_CRs : 1
AFU_CR_len : 0x100
AFU_CR_offset : 0x100

# Define 1 4KB error buffer at 0x1000
AFU_EB_len : 0x1000
AFU_EB_offset : 0x1000

# Set vendor & device ID in configuration record (address 0x100)
#0x61ca141013005640
#0x0000120000000000
data : 0x100
0x141061ca13005640
data : 0x108
0x0000001200000000
#Set up data area for error buffer test
data : 0x1000
0x0001020304050607
data : 0x1008
0x08090a0b0c0d0e0f
data : 0x1010
0x1011121314151617
data : 0x1018
0x18191a1b1c1d1e1f
data : 0x1020
0x2021222324252627
data : 0x1028
0x28292a2b2c2d2e2f
data : 0x1030
0x3031333334353637
# Set up Header configuration and VSEC
vsec_header : 0x000
#Device ID and Vendor ID
0x000 : 0x141061ca
#AFU Enable
0x004 : 0x00000000
# MMIO BAR0 Low
0x010 : 0x00000000
# MMIO BAR0 High
0x014 : 0x00000000
# Subsystem and Vendor ID
0x02C : 0x00000000
# Capabilities Pointer
0x034 : 0x00000000
# VSECID F000
# Next Capability Pointer, Capability ID and Version
0x100 : 0x2001001B
# VSEC ID, Revision and Length=0x20
0x104 : 0x00010500
# VSECID F001
# Next Capability Pointer, Capability ID and Version
0x190 : 0x1B000000
#VSEC ID, Revision and Length=0x20
0x194 : 0x02000000
# PASID Length
0x198 : 0x00000000
# PASID Base
0x19C : 0x00000000
#PASID Mask
0x1A0 : 0x00000000
# VSECID F002
# Next Capability Pointer, Capability ID and Version
0x1B0 : 0x1D000000
# VSEC ID, Revision and Length=0x20
0x1B4 : 0x02000000
# VSECID F003
# Next Capability Pointer, Capability ID and Version
0x1D0 : 0x1F000000
# VSEC ID, Revision and Length=0x20
0x1D4 : 0x02000000
# AFU Descriptor Offset and and Data Valid
0x1E0 : 0x00000000
# AFU Descriptor Data
0x1E4 : 0x00000000
# VSECID F0F0
# Next Capability Pointer, Capability ID and Version
0x1F0 : 0x2001000B
# VSEC ID, Revision and Length=0x10
0x1F4 : 0x0100F0F0
# Vendor Defined Identifier
0x1F8 : 0x00000000

# OpenCAPI Transport Layer Extended Capability
# Next Capability Pointer, version, and Capability ID = 000B (from an email)
0x200 : 0x2900000B
# capaility length, ocec rev, ocec id
0x204 : 0x0900F000
# tl major version capability, tl minor version capability, sp, base actag (0), max actag (2**5 - 1)
0x208 : 0x00000005
# tl major version configuration, tl minor version configuration, max AFU index (0) - we have one afu
0x20C : 0x00000000
# tlx transmit template configuration (31:0) (template 0 enabled - default)
0x224 : 0x00000001
# tlx transmit rate per template configuration (7:0) (template 0 rate F - default)
0x26C : 0x0000000F


# afu information extended capability
# Next Capability Pointer, version, and Capability ID = 000B
0x290 : 0x2B01000B
# capaility length, ocec rev, ocec id
0x294 : 0x0140F003
# afu index
0x298 : 0x00000000
# afu descriptor data valid, afu desciptor offset 
0x29C : 0x00000000
# afu descriptor data
0x2A0 : 0x00000000


# afu control information extended capability
# Next Capability Pointer (000 - last one), version, and Capability ID = 000B (from an email)
0x2B0 : 0x0001000B
# capaility length, ocec rev, ocec id
0x2B4 : 0x01C0F004
# enable afu (tbd), reset afu, afu index
0x2B8 : 0x00000000
# pasid length enabled (rw), pasid length supported
0x2C0 : 0x00050005
# pasid base
0x2C4 : 0x00000000
# interrupts per pasid enabled (rw), interrupts per pasid supported
0x2C8 : 0x00040004

# afu descriptor - let's just put one here to read
# the values should represent the test_afu mmio spaces
0x010000 : 0x00380000
# per process mmio offset, per process mmio bar
# 0x01001C : 		#(fill in based on test_afu)
# per process mmio stride
# 0x010020 : 		#(fill in based on test_afu)

